{
  "videos": [
    {
      "input": [
        { "i": "resources/VID_20221013_160622883.mp4" },
        { "i": "resources/SDLC_full.m4a" }
      ],
      "output": "resources/full-view.mp4",
      "filter_complex": [
        "[0:v]trim=start=6.62:end=631,setpts=PTS-STARTPTS,setsar=1:1[video]",
        "[1:a]atrim=start=7:end=631,asetpts=PTS-STARTPTS,volume=3[audio]"
      ]
    },
    {
      "input": [
        { "i": "resources/full-view.mp4" }
      ],
      "output": "build/00_intro.mp4",
      "filter_complex": [
        "[0:v]trim=7start=:end=631,setpts=PTS-STARTPTS,setsar=1:1[video]",
        "[0:a]atrim=start=6.62:end=631,asetpts=PTS-STARTPTS[audio]"
      ]
    },
    {
      "input": [
        { "i": "resources/VID_20230602_022318411.mp4" },
        { "i": "resources/VID_20230602_030822012.mp4" },
        { "f": "lavfi", "i": "color=color=0x00000000:size=1920x1080,format=rgba,setsar=1:1"  },
        { "loop": "true", "i": "resources/sdlc/00_intro.png" },
        { "loop": "true", "i": "resources/sdlc/01_process.png" },
        { "loop": "true", "i": "resources/sdlc/02_planning.png" },
        { "loop": "true", "i": "resources/sdlc/03_planning-ex.png" },
        { "loop": "true", "i": "resources/sdlc/04_analysis.png" },
        { "loop": "true", "i": "resources/sdlc/05_analysis-ex.png" },
        { "loop": "true", "i": "resources/sdlc/06_design.png" },
        { "loop": "true", "i": "resources/sdlc/07_design-ui.png" },
        { "loop": "true", "i": "resources/sdlc/08_design-code.png" },
        { "loop": "true", "i": "resources/sdlc/09_implementation.png" },
        { "loop": "true", "i": "resources/sdlc/10_implementation-ex.png" },
        { "loop": "true", "i": "resources/sdlc/11_testing.png" },
        { "loop": "true", "i": "resources/sdlc/12_testing-ex.png" },
        { "loop": "true", "i": "resources/sdlc/13_integration.png" },
        { "loop": "true", "i": "resources/sdlc/14_integration-ex.png" },
        { "loop": "true", "i": "resources/sdlc/15_maintenance.png" },
        { "loop": "true", "i": "resources/sdlc/16_maintenance-ex.png" },
        { "loop": "true", "i": "resources/sdlc/17_thank-you.png" },
        { "i": "resources/swoosh.m4a" }
      ],
      "output": "build/SDLC.mp4",
      "filter_complex": [
        "# First intro",
        "[3:v]trim=start=0:end=77.3,setpts=PTS-STARTPTS,boxblur=4:2[firstSlideBackground]",
        "[21:a]asetpts=PTS-STARTPTS[sfxSample]",
        "[0:v]fps=29,trim=start=2:end=32.5,setpts=PTS-STARTPTS,scale=608x1080,setsar=1:1[x0]",
        "[0:a]atrim=start=2:end=18.2,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aintro1]",
        "[0:a]atrim=start=18.2:end=32.5,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aintro2]",
        "[aintro2][sfxSample]amix[aintro_]",
        "[aintro1][aintro_]concat=v=0:a=1[s0]",

        "# SDLC is not just for devs...",
        "[0:v]fps=29,trim=start=163.5:end=177,setpts=PTS-STARTPTS,scale=608x1080,setsar=1:1[x1]",
        "[0:a]atrim=start=163.5:end=177,asetpts=NB_CONSUMED_SAMPLES/SR/TB[s1]",

        "# About SDLC",
        "[0:v]fps=29,trim=start=201.7:end=235,setpts=PTS-STARTPTS,scale=608x1080,setsar=1:1[x2]",
        "[0:a]atrim=start=201.7:end=235,asetpts=NB_CONSUMED_SAMPLES/SR/TB[s2]",

        "[x0][x1][x2]concat=n=3[vintro]",
        "[firstSlideBackground][vintro]overlay=(W-w)/2:0:shortest=1[v0]",
        "[s0][s1][s2]concat=v=0:a=1:n=3[a0]",

        "# Getting started",
        "[3:v]trim=start=0:end=36.9,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[00_intro]",
        "[0:v]fps=29,trim=start=39.5:end=76.4,setpts=PTS-STARTPTS,scale='if(gt(t,31.9),lerp(608,340,(t-31.9)/5),608)':'if(gt(t,31.9),lerp(1080,604,(t-31.9)/5),1080)':eval=frame[gettingStarted]",
        "[00_intro][gettingStarted]overlay='if(gt(t,31.9),lerp(656,1580,(t-31.9)/5),(W-w)/2)':'if(gt(t,31.9),lerp(0,476,(t-31.9)/5),0)':shortest=1[v1]",
        "[0:a]atrim=start=39.5:end=76.4,asetpts=NB_CONSUMED_SAMPLES/SR/TB[a1]",

        "### Start overlay process ###",

        "# First paragraph",
        "[4:v]trim=start=0:end=69.5,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[01_process]",
        "[21:a]adelay=68.5s:all=1[processNext]",

        "[0:v]fps=29,trim=start=236.2:end=279,setpts=PTS-STARTPTS[vpgraph1]",
        "[0:a]atrim=start=236.2:end=279,asetpts=NB_CONSUMED_SAMPLES/SR/TB[apgraph1]",

        "# First paragraph (cont'd)",
        "[0:v]fps=29,trim=start=294:end=309.5,setpts=PTS-STARTPTS[vpgraph2]",
        "[0:a]atrim=start=294:end=309.5,asetpts=NB_CONSUMED_SAMPLES/SR/TB[apgraph2]",

        "# First paragraph (fin)",
        "[0:v]fps=29,trim=start=312.8:end=324,setpts=PTS-STARTPTS[vpgraph3]",
        "[0:a]atrim=start=312.8:end=324,asetpts=NB_CONSUMED_SAMPLES/SR/TB[apgraph3]",

        "[vpgraph1][vpgraph2][vpgraph3]concat=n=3,scale=240x426,setsar=1:1[v1stPgraph]",
        "[01_process][v1stPgraph]overlay=735:210:shortest=1[v2]",
        "[apgraph1][apgraph2][apgraph3]concat=v=0:a=1:n=3[aprocessTalk]",
        "[aprocessTalk][processNext]amix[a2]",


        "# Planning",
        "[5:v]trim=start=0:end=31.5,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[02_planning]",
        "[21:a]adelay=30.5s:all=1[planNext]",

        "[0:v]fps=29,trim=start=331.8:end=358.8,setpts=PTS-STARTPTS[vplan0]",
        "[0:a]atrim=start=331.8:end=358.8,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aplan0]",

        "[0:v]fps=29,trim=start=361.5:end=366,setpts=PTS-STARTPTS[vplan1]",
        "[0:a]atrim=start=361.5:end=366,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aplan1]",

        "[vplan0][vplan1]concat,scale=220x392,setsar=1:1[vplan]",
        "[02_planning][vplan]overlay=W-w:H-h:shortest=1[v3]",
        "[aplan0][aplan1]concat=v=0:a=1[aplan]",
        "[aplan][planNext]amix[a3]",


        "# Planning Example",
        "[6:v]trim=start=0:end=88.2,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[03_planning-ex]",
        "[21:a]adelay=87.2s:all=1[planExNext]",

        "[0:v]fps=29,trim=start=403:end=464.2,setpts=PTS-STARTPTS[planEx0]",
        "[0:a]atrim=start=403:end=464.2,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aplanEx0]",

        "# planning Example 2 (why I built Yaba)",
        "[0:v]fps=29,trim=start=475:end=502,setpts=PTS-STARTPTS[planEx1]",
        "[0:a]atrim=start=475:end=502,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aplanEx1]",

        "[planEx0][planEx1]concat,scale=340x604,setsar=1:1[planningEx]",
        "[03_planning-ex][planningEx]overlay=W-w:H-h:shortest=1[v4]",
        "[aplanEx0][aplanEx1]concat=v=0:a=1[aplanningTalk]",
        "[aplanningTalk][planExNext]amix[a4]",


        "# Analysis",
        "[7:v]trim=start=0:end=53,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[04_analysis]",
        "[21:a]adelay=52s:all=1[analysisNext]",
        "[0:v]fps=29,trim=start=504:end=557,setpts=PTS-STARTPTS,scale=340x604,setsar=1:1[vanalysis]",
        "[0:a]atrim=start=504:end=557,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aanalysis]",
        "[04_analysis][vanalysis]overlay=W-w:H-h:shortest=1[v5]",
        "[aanalysis][analysisNext]amix[a5]",


        "# Analysis Example",
        "[8:v]trim=start=0:end=82,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[05_analysis-ex]",
        "[21:a]adelay=81s:all=1[analysisExNext]",
        "[0:v]fps=29,trim=start=562:end=644,setpts=PTS-STARTPTS,scale=340x604,setsar=1:1[vanalysisEx]",
        "[0:a]atrim=start=562:end=644,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aanalysisEx]",
        "[05_analysis-ex][vanalysisEx]overlay=W-w:H-h:shortest=1[v6]",
        "[aanalysisEx][analysisExNext]amix[a6]",


        "# Design",
        "[9:v]trim=start=0:end=85,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[06_design]",
        "[21:a]adelay=84s:all=1[designNext]",
        "[0:v]fps=29,trim=start=648:end=733,setpts=PTS-STARTPTS,scale=200x356,setsar=1:1[vdesign]",
        "[0:a]atrim=start=648:end=733,asetpts=NB_CONSUMED_SAMPLES/SR/TB[adesign]",
        "[06_design][vdesign]overlay=600:710:shortest=1[v7]",
        "[adesign][designNext]amix[a7]",


        "# Design Example",
        "[10:v]trim=start=0:end=17.5,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[07_design-ui]",
        "[11:v]trim=start=0:end=29,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[08_design-code]",
        "[21:a]adelay=45.5s:all=1[designExNext]",
        "[07_design-ui][08_design-code]concat[07_designEx]",
        "[0:v]fps=29,trim=start=744.5:end=791,setpts=PTS-STARTPTS,scale=180x320[vdesignEx]",
        "[0:a]atrim=start=744.5:end=791,asetpts=NB_CONSUMED_SAMPLES/SR/TB[adesignEx]",
        "[07_designEx][vdesignEx]overlay=W-w:0:shortest=1[v8]",
        "[adesignEx][designExNext]amix[a8]",


        "# Implementation",
        "[12:v]trim=start=0:end=66.55,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[09_implementation]",
        "[21:a]adelay=65.55s:all=1[implementationNext]",
        "[0:v]fps=29,trim=start=794:end=822,setpts=PTS-STARTPTS[vimpl1]",
        "[0:a]atrim=start=794:end=822,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aimpl1]",

        "[0:v]fps=29,trim=start=824.25:end=861.8,setpts=PTS-STARTPTS[vimpl2]",
        "[0:a]atrim=start=824.25:end=861.8,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aimpl2]",

        "[vimpl1][vimpl2]concat,scale=288x512,setsar=1:1[vimplementation]",
        "[aimpl1][aimpl2]concat=v=0:a=1[aimplementation]",
        "[09_implementation][vimplementation]overlay=W-w:H-h:shortest=1[v9]",
        "[aimplementation][implementationNext]amix[a9]",


        "# Implementation Example; implement sad-rain here",
        "[13:v]trim=start=0:end=41.05,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[10_implementation-ex]",
        "[21:a]adelay=40.05s:all=1[implExNext]",
        "[0:v]fps=29,trim=start=873.2:end=902,setpts=PTS-STARTPTS[vimplEx1]",
        "[0:a]atrim=start=873.2:end=902,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aimplEx1]",

        "[0:v]fps=29,trim=start=905:end=909,setpts=PTS-STARTPTS[vimplEx2]",
        "[0:a]atrim=start=905:end=909,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aimplEx2]",

        "[0:v]fps=29,trim=start=917.75:end=926,setpts=PTS-STARTPTS[vimplEx3]",
        "[0:a]atrim=start=917.75:end=926,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aimplEx3]",

        "[vimplEx1][vimplEx2][vimplEx3]concat=n=3,scale=500x890,setsar=1:1[vimplEx]",
        "[aimplEx1][aimplEx2][aimplEx3]concat=v=0:a=1:n=3[aimplEx]",
        "[10_implementation-ex][vimplEx]overlay=W-w:H-h:shortest=1[v10]",
        "[aimplEx][implExNext]amix[a10]",


        "# Testing",
        "[14:v]trim=start=0:end=203.37,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[11_testing]",
        "[21:a]adelay=202.37s:all=1[testNext]",

        "[0:v]fps=29,trim=start=934:end=952.6,setpts=PTS-STARTPTS[vtest0]",
        "[0:a]atrim=start=934:end=952.6,asetpts=NB_CONSUMED_SAMPLES/SR/TB[atest0]",

        "[0:v]fps=29,trim=start=1008.5:end=1031.5,setpts=PTS-STARTPTS[vtest1]",
        "[0:a]atrim=start=1008.5:end=1031.5,asetpts=NB_CONSUMED_SAMPLES/SR/TB[atest1]",

        "[0:v]fps=29,trim=start=1038.22:end=1066.25,setpts=PTS-STARTPTS[vtest2]",
        "[0:a]atrim=start=1038.22:end=1066.25,asetpts=NB_CONSUMED_SAMPLES/SR/TB[atest2]",

        "[0:v]fps=29,trim=start=1068:end=1109.75,setpts=PTS-STARTPTS[vtest3]",
        "[0:a]atrim=start=1068:end=1109.75,asetpts=NB_CONSUMED_SAMPLES/SR/TB[atest3]",

        "[0:v]fps=29,trim=start=1119:end=1211,setpts=PTS-STARTPTS[vtest4]",
        "[0:a]atrim=start=1119:end=1211,asetpts=NB_CONSUMED_SAMPLES/SR/TB[atest4]",

        "[vtest0][vtest1][vtest2][vtest3][vtest4]concat=n=5,scale=186x330,setsar=1:1[vTesting]",
        "[atest0][atest1][atest2][atest3][atest4]concat=v=0:a=1:n=5[aTesting]",
        "[11_testing][vTesting]overlay=W-w-100:0:shortest=1[v11]",
        "[aTesting][testNext]amix[a11]",


        "# Testing Example",
        "[15:v]trim=start=0:end=67.5,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[12_testing-ex]",
        "[21:a]adelay=66.5s:all=1[testExNext]",
        "[1:v]fps=29,trim=start=5:end=72.5,setpts=PTS-STARTPTS,scale=512x910,setsar=1:1[vTestingEx]",
        "[1:a]atrim=start=5:end=72.5,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aTestingEx]",
        "[12_testing-ex][vTestingEx]overlay=W-w:H-h:shortest=1[v12]",
        "[aTestingEx][testExNext]amix[a12]",


        "# Integration",
        "[16:v]trim=start=0:end=31.35,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[13_integration]",
        "[21:a]adelay=30.35s:all=1[intNext]",
        "[1:v]fps=29,trim=start=78:end=109.35,setpts=PTS-STARTPTS,scale=240x426,setsar=1:1[vIntegration]",
        "[1:a]atrim=start=78:end=109.35,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aIntegration]",
        "[13_integration][vIntegration]overlay=W-w:0:shortest=1[v13]",
        "[aIntegration][intNext]amix[a13]",


        "# Integration Example",
        "[17:v]trim=start=0:end=21.8,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[14_integration-ex]",
        "[21:a]adelay=20.8s:all=1[intExNext]",
        "[1:v]fps=29,trim=start=115:end=136.8,setpts=PTS-STARTPTS,scale=512x910,setsar=1:1[vintEx]",
        "[1:a]atrim=start=115:end=136.8,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aintEx]",
        "[14_integration-ex][vintEx]overlay=W-w:H-h:shortest=1[v14]",
        "[aintEx][intExNext]amix[a14]",


        "# Maintenance",
        "[18:v]trim=start=0:end=60.5,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[15_maintenance]",
        "[21:a]adelay=59.5s:all=1[maintNext]",
        "[1:v]fps=29,trim=start=291:end=351.5,setpts=PTS-STARTPTS,scale=320x570,setsar=1:1[vMaint]",
        "[1:a]atrim=start=291:end=351.5,asetpts=NB_CONSUMED_SAMPLES/SR/TB[aMaint]",
        "[15_maintenance][vMaint]overlay=740:500:shortest=1[v15]",
        "[aMaint][maintNext]amix[a15]",


        "# Maintenance Example",
        "[19:v]trim=start=0:end=163,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[16_maintenance-ex]",
        "[21:a]adelay=162s:all=1[maintExNext]",
        "[1:v]fps=29,trim=start=354:end=389,setpts=PTS-STARTPTS[vmaintEx1]",
        "[1:a]atrim=start=354:end=389,asetpts=NB_CONSUMED_SAMPLES/SR/TB[amaintEx1]",

        "[1:v]fps=29,trim=start=393:end=416,setpts=PTS-STARTPTS[vmaintEx2]",
        "[1:a]atrim=start=393:end=416,asetpts=NB_CONSUMED_SAMPLES/SR/TB[amaintEx2]",

        "[1:v]fps=29,trim=start=420:end=505,setpts=PTS-STARTPTS[vmaintEx3]",
        "[1:a]atrim=start=420:end=505,asetpts=NB_CONSUMED_SAMPLES/SR/TB[amaintEx3]",

        "[1:v]fps=29,trim=start=514:end=534,setpts=PTS-STARTPTS[vmaintEx4]",
        "[1:a]atrim=start=514:end=534,asetpts=NB_CONSUMED_SAMPLES/SR/TB[amaintEx4]",

        "[vmaintEx1][vmaintEx2][vmaintEx3][vmaintEx4]concat=n=4,scale=512x910,setsar=1:1[vMaintEx]",
        "[amaintEx1][amaintEx2][amaintEx3][amaintEx4]concat=v=0:a=1:n=4[aMaintEx]",

        "[16_maintenance-ex][vMaintEx]overlay=W-w:H-h:shortest=1[v16]",
        "[aMaintEx][maintExNext]amix[a16]",

        "# Ending",
        "[20:v]trim=start=0:end=54,setpts=PTS-STARTPTS,setsar=1:1,format=yuv420p,fps=29[17_thankyou]",
        "[1:v]fps=29,trim=start=534:end=588,setpts=PTS-STARTPTS,scale=512x910,setsar=1:1[vty]",
        "[1:a]atrim=start=534:end=588,asetpts=NB_CONSUMED_SAMPLES/SR/TB[a17]",
        "[17_thankyou][vty]overlay=W-w-100:H-h-50:shortest=1[v17]",


        "[v0][v1][v2][v3][v4][v5][v6][v7][v8][v9][v10][v11][v12][v13][v14][v15][v16][v17]concat=n=18,fps=29[video]",
        "[a0][a1][a2][a3][a4][a5][a6][a7][a8][a9][a10][a11][a12][a13][a14][a15][a16][a17]concat=v=0:a=1:n=18,afftdn=nr=10:nf=-20:tn=1,equalizer=f=623:w=3.5:t=h:g=-15:n=1,acompressor[audio]"
      ]
    }
  ]
}

