1
00:00:00.000 --> 00:00:01.780
So... like... to get me started with

2
00:00:01.780 --> 00:00:03.140
stable diffusion, it wasn't really

3
00:00:03.140 --> 00:00:04.400
that much to do.

4
00:00:05.160 --> 00:00:06.660
Really the only thing that's important

5
00:00:06.660 --> 00:00:08.780
is that you download the `webui.sh`,

6
00:00:09.140 --> 00:00:09.700
and then you

7
00:00:09.700 --> 00:00:10.480
can configure it.

8
00:00:10.680 --> 00:00:11.500
But what I did was a little

9
00:00:11.500 --> 00:00:13.220
bit extra because, you know, I'm in

10
00:00:13.220 --> 00:00:14.140
Linux and I get to have fun

11
00:00:14.140 --> 00:00:14.460
with that. =)

12
00:00:14.980 --> 00:00:17.280
So, I created a user specifically

13
00:00:17.280 --> 00:00:18.140
for this.

14
00:00:18.340 --> 00:00:19.480
I'm not going to be running software

15
00:00:19.480 --> 00:00:21.680
I don't trust as an unprivileged user

16
00:00:21.680 --> 00:00:22.340
account on my

17
00:00:22.340 --> 00:00:24.080
system, so that's going to reduce

18
00:00:24.080 --> 00:00:25.560
its capacity of what it can do

19
00:00:25.560 --> 00:00:26.200
to my system.

20
00:00:26.720 --> 00:00:28.360
And then because this is a very

21
00:00:28.360 --> 00:00:31.340
disk-heavy app, I just went ahead

22
00:00:31.340 --> 00:00:33.620
and created a logical

23
00:00:33.620 --> 00:00:34.400
volume for it.

24
00:00:34.800 --> 00:00:35.800
I mean, I happen to be on

25
00:00:35.800 --> 00:00:37.300
LVMs, you can just basically create

26
00:00:37.300 --> 00:00:39.040
a disk, some kind of disk

27
00:00:39.040 --> 00:00:40.320
space that you can use specifically

28
00:00:40.320 --> 00:00:40.940
for this.

29
00:00:40.980 --> 00:00:42.380
Just for the trial, I started with

30
00:00:42.380 --> 00:00:44.660
20Gb, that quickly got up to

31
00:00:44.660 --> 00:00:45.700
50Gb whenever I

32
00:00:45.700 --> 00:00:47.060
realized if you want to test more

33
00:00:47.060 --> 00:00:48.860
than one model, you're going to need

34
00:00:48.860 --> 00:00:49.620
some disk space

35
00:00:49.620 --> 00:00:50.900
for that, in addition to all the

36
00:00:50.900 --> 00:00:52.080
libraries and everything else that's

37
00:00:52.080 --> 00:00:52.860
involved with making

38
00:00:52.860 --> 00:00:53.320
this happen.

39
00:00:53.880 --> 00:00:55.560
And then once you get your file

40
00:00:55.560 --> 00:00:56.720
system set up, you can use block

41
00:00:56.720 --> 00:00:57.480
ID to figure out what

42
00:00:57.480 --> 00:00:58.720
the UUID is if you want to

43
00:00:58.720 --> 00:01:00.180
use that, or I could have, you

44
00:01:00.180 --> 00:01:01.960
know, stuck with the path

45
00:01:01.960 --> 00:01:04.000
to the LVMs, but in any case,

46
00:01:04.040 --> 00:01:05.060
you're just going to try and make

47
00:01:05.060 --> 00:01:05.840
sure that that's available

48
00:01:05.840 --> 00:01:08.500
in your `/etc/fstab`, and then

49
00:01:08.500 --> 00:01:09.960
you're going to mount your directory

50
00:01:09.960 --> 00:01:11.380
for your new user

51
00:01:11.380 --> 00:01:11.760
account.

52
00:01:12.020 --> 00:01:13.880
This will jail them inside of their

53
00:01:13.880 --> 00:01:16.060
own user account or their own file

54
00:01:16.060 --> 00:01:17.480
system too, so that

55
00:01:17.480 --> 00:01:18.920
all the space will be in that

56
00:01:18.920 --> 00:01:20.060
partition and won't take up the rest

57
00:01:20.060 --> 00:01:20.460
of your drive.

58
00:01:20.960 --> 00:01:23.140
And then I went ahead and created

59
00:01:23.140 --> 00:01:25.540
a `~/bin` directory, also you probably

60
00:01:25.540 --> 00:01:26.440
want to set the permissions

61
00:01:26.440 --> 00:01:27.660
because when you mount, that's going

62
00:01:27.660 --> 00:01:29.120
to be set as root, so you're

63
00:01:29.120 --> 00:01:30.220
going to chown that

64
00:01:30.220 --> 00:01:31.900
to the user as well.

65
00:01:32.820 --> 00:01:35.440
And I was also missing the tcmalloc

66
00:01:35.440 --> 00:01:37.140
dependencies, so I just went ahead

67
00:01:37.140 --> 00:01:38.080
and installed that,

68
00:01:38.220 --> 00:01:40.080
and I created a bin directory, and

69
00:01:40.080 --> 00:01:43.220
then I downloaded the web UI from

70
00:01:43.220 --> 00:01:44.560
the GitHub account

71
00:01:44.560 --> 00:01:46.440
for automatic one-on-one stable diffusion

72
00:01:46.440 --> 00:01:46.980
web UI.

73
00:01:47.980 --> 00:01:50.940
We download that bin directory and

74
00:01:50.940 --> 00:01:53.660
set execution permissions on it, and

75
00:01:53.660 --> 00:01:54.540
then I also installed

76
00:01:54.540 --> 00:01:57.840
and modified `webui-user.sh`, so you're

77
00:01:57.840 --> 00:01:59.140
just basically going to change those

78
00:01:59.140 --> 00:02:00.560
as well in those two

79
00:02:00.560 --> 00:02:03.140
places, and that's going to let you... --

80
00:02:03.960 --> 00:02:05.400
that's it, I mean, and then you

81
00:02:05.400 --> 00:02:05.980
just run it.

82
00:02:06.380 --> 00:02:07.860
Now before you execute on it, you

83
00:02:07.860 --> 00:02:08.900
probably want to take a look at

84
00:02:08.900 --> 00:02:09.620
some of the configuration

85
00:02:09.620 --> 00:02:11.780
itself. (This is kind of cool, we've

86
00:02:11.780 --> 00:02:12.940
got some color output here). So if

87
00:02:12.940 --> 00:02:13.340
you're wondering,

88
00:02:13.780 --> 00:02:15.320
this is the directory where I set

89
00:02:15.320 --> 00:02:16.760
it to install, and then I said

90
00:02:16.760 --> 00:02:18.480
clone it to this directory,

91
00:02:18.940 --> 00:02:20.620
and then this command line I discovered

92
00:02:20.620 --> 00:02:22.720
after the fact to get it to

93
00:02:22.720 --> 00:02:23.540
render images for the

94
00:02:23.540 --> 00:02:24.720
amount of memory that my graphics

95
00:02:24.720 --> 00:02:27.340
cards have, and the rest of it,

96
00:02:27.420 --> 00:02:28.120
I mean, I pretty much

97
00:02:28.120 --> 00:02:29.880
just left it as default, I ran

98
00:02:29.880 --> 00:02:31.780
into some memory issues, so I increased

99
00:02:31.780 --> 00:02:32.560
the split size

100
00:02:32.560 --> 00:02:33.980
just a little bit, as it suggested,

101
00:02:34.480 --> 00:02:36.820
and then when it executes, it's going

102
00:02:36.820 --> 00:02:37.400
to kick off a

103
00:02:37.400 --> 00:02:39.880
daemon, that's an error set before,

104
00:02:40.100 --> 00:02:44.840
so let's execute a fresh one, so

105
00:02:44.840 --> 00:02:45.760
yeah, when this thing

106
00:02:45.760 --> 00:02:47.480
runs, it's basically going to kick

107
00:02:47.480 --> 00:02:49.240
off a daemon that will listen on

108
00:02:49.240 --> 00:02:50.480
a port, what's nice is

109
00:02:50.480 --> 00:02:51.880
it only listens on localhost, so you

110
00:02:51.880 --> 00:02:52.960
don't have to worry about it globbing

111
00:02:52.960 --> 00:02:53.380
on all your

112
00:02:53.380 --> 00:02:55.820
internet connections, and once you've

113
00:02:55.820 --> 00:02:56.940
got that up and running, it's going

114
00:02:56.940 --> 00:02:57.920
to load the

115
00:02:58.360 --> 00:03:00.100
models into memory so that you can

116
00:03:00.100 --> 00:03:02.880
start generating images, and basically,

117
00:03:03.240 --> 00:03:04.500
yeah, that's it, you

118
00:03:04.500 --> 00:03:06.220
go to that address, now if this

119
00:03:06.220 --> 00:03:07.640
was running on my machine, you see

120
00:03:07.640 --> 00:03:08.540
the x11 connection

121
00:03:08.540 --> 00:03:09.640
rejected, that's because I already

122
00:03:09.640 --> 00:03:11.320
have chrome running, and I haven't

123
00:03:11.320 --> 00:03:12.680
permitted my remote

124
00:03:12.680 --> 00:03:14.720
machine to be able to create apps,

125
00:03:14.880 --> 00:03:17.260
or run apps on my laptop, because

126
00:03:17.260 --> 00:03:17.720
you don't run this

127
00:03:17.720 --> 00:03:19.140
thing, and this is actually installed

128
00:03:19.140 --> 00:03:20.120
on a server in a different room,

129
00:03:20.980 --> 00:03:22.240
yeah, so once

130
00:03:22.240 --> 00:03:23.480
that's up and running, I was a

131
00:03:23.480 --> 00:03:25.140
little bit extra, and I set it

132
00:03:25.140 --> 00:03:29.080
up with, I put up a nginx

133
00:03:29.080 --> 00:03:31.160
proxy, and then I did some fancy

134
00:03:31.160 --> 00:03:33.680
dns stuff, so that I can access

135
00:03:33.680 --> 00:03:34.920
it clean here in my browser

136
00:03:34.920 --> 00:03:36.760
like this, and forwarded the connection

137
00:03:36.760 --> 00:03:39.340
down to the remote machine that I've

138
00:03:39.340 --> 00:03:40.260
got, that's

139
00:03:40.260 --> 00:03:42.220
got more graphics, really it's my

140
00:03:42.220 --> 00:03:43.340
gaming system in the living room,

141
00:03:43.700 --> 00:03:44.580
I probably should stop

142
00:03:44.580 --> 00:03:45.960
making gaming systems, because I end

143
00:03:45.960 --> 00:03:47.100
up turning them into other things,

144
00:03:47.600 --> 00:03:48.820
but yeah, the models

145
00:03:48.820 --> 00:03:50.280
directory is going to let you have

146
00:03:50.280 --> 00:03:51.760
access to all the different models

147
00:03:51.760 --> 00:03:52.180
that you want to

148
00:03:52.180 --> 00:03:54.180
try out, because apparently they can

149
00:03:54.180 --> 00:03:57.580
all draw a different way, and when

150
00:03:57.580 --> 00:03:58.600
I say models directory,

151
00:03:58.600 --> 00:04:00.080
I mean like, you know, in the

152
00:04:00.080 --> 00:04:02.120
install directory, slash models, you're

153
00:04:02.120 --> 00:04:03.160
going to have this stable

154
00:04:03.160 --> 00:04:07.660
diffusion directory, and inside of

155
00:04:07.660 --> 00:04:09.300
that directory, you are going to find

156
00:04:09.300 --> 00:04:12.280
your safe tensors, you

157
00:04:12.280 --> 00:04:14.500
may only just have that one, the

158
00:04:14.500 --> 00:04:16.720
v1.5-prunedemaonly.safetensors, like this is

159
00:04:16.720 --> 00:04:17.360
the default that it

160
00:04:17.360 --> 00:04:18.900
comes with, and the others I downloaded

161
00:04:18.900 --> 00:04:21.580
off of Hugging Face Emoji, and when

162
00:04:21.580 --> 00:04:22.160
I was talking

163
00:04:22.720 --> 00:04:25.220
disk space, I was not kidding, these

164
00:04:25.220 --> 00:04:28.800
things are huge, so be patient if

165
00:04:28.800 --> 00:04:29.240
you're on a slow

166
00:04:29.240 --> 00:04:31.740
connection, and be mindful if you

167
00:04:31.740 --> 00:04:34.120
pay for the internet by the GB/MB.

168
00:04:35.520 --> 00:04:36.220
What's nice

169
00:04:36.220 --> 00:04:37.380
is once you do have your models

170
00:04:37.380 --> 00:04:39.640
downloaded, you can use this to refresh

171
00:04:39.640 --> 00:04:40.300
the listing here,

172
00:04:40.360 --> 00:04:41.780
it'll check the file system, and anything

173
00:04:41.780 --> 00:04:43.340
you may have downloaded to that directory

174
00:04:43.340 --> 00:04:45.600
will then show up here, you can

175
00:04:45.600 --> 00:04:46.860
select any one of these, it may

176
00:04:46.860 --> 00:04:48.240
take a moment for the

177
00:04:48.240 --> 00:04:50.000
rules to load into memory, because

178
00:04:50.000 --> 00:04:51.520
these safe tensor models are basically

179
00:04:51.520 --> 00:04:51.900
a bunch of

180
00:04:51.900 --> 00:04:53.780
rules that define what it does with

181
00:04:53.780 --> 00:04:56.640
the training data, based on my present

182
00:04:56.640 --> 00:04:57.860
interpretation of

183
00:04:57.860 --> 00:04:59.320
how this stuff works, you can then

184
00:04:59.320 --> 00:05:01.140
take your prompt, and you can hit

185
00:05:01.140 --> 00:05:02.620
generate, and it will

186
00:05:02.620 --> 00:05:04.540
get to cranking at crafting an image

187
00:05:04.540 --> 00:05:06.360
for you, as you can see, this

188
00:05:06.360 --> 00:05:07.220
goes pretty quick, and

189
00:05:07.220 --> 00:05:09.360
that's because, you know, I've got

190
00:05:09.360 --> 00:05:11.240
some firepower on my graphics card

191
00:05:11.240 --> 00:05:12.480
over there on my gaming

192
00:05:12.480 --> 00:05:15.040
system, and so, you know, with that

193
00:05:15.040 --> 00:05:18.520
prompt, attack on titan sharp 4k mikasa

194
00:05:18.520 --> 00:05:19.600
anime beautiful

195
00:05:19.600 --> 00:05:22.260
landscape scenery, yeah, from the

196
00:05:22.260 --> 00:05:25.020
example before, we're able to craft

197
00:05:25.020 --> 00:05:25.760
that, and that's

198
00:05:25.760 --> 00:05:27.460
just based off of the default settings

199
00:05:27.460 --> 00:05:28.840
that it comes with, I'm sure there's

200
00:05:28.840 --> 00:05:29.680
more stuff

201
00:05:29.680 --> 00:05:31.080
I can configure to get the image

202
00:05:31.080 --> 00:05:32.480
to look more like what he did,

203
00:05:33.180 --> 00:05:34.120
I thought this was pretty

204
00:05:34.120 --> 00:05:35.200
cool, I wanted to share how this

205
00:05:35.200 --> 00:05:37.380
works, and what you can do with

206
00:05:37.380 --> 00:05:38.160
it, oh yeah, and by the

207
00:05:38.160 --> 00:05:40.240
way, this folder, where these images

208
00:05:40.240 --> 00:05:42.920
are stored, you can look in outputs,

209
00:05:43.100 --> 00:05:43.420
that's going

210
00:05:43.420 --> 00:05:44.720
to have a directory inside of it,

211
00:05:44.760 --> 00:05:45.820
that's going to be all the different

212
00:05:45.820 --> 00:05:46.620
tools that you may

213
00:05:46.620 --> 00:05:47.940
be using, for now we're just doing

214
00:05:47.940 --> 00:05:50.000
that, and there you have it, folks,

215
00:05:50.140 --> 00:05:50.800
there's a directory

216
00:05:50.800 --> 00:05:54.880
with all the dates and stuff, of

217
00:05:54.880 --> 00:05:56.540
when this was invoked, when you, you

218
00:05:56.540 --> 00:05:57.080
know, sort of by

219
00:05:57.080 --> 00:06:00.600
date, which image, and it also looks

220
00:06:00.600 --> 00:06:01.740
like the seed that was used to

221
00:06:01.740 --> 00:06:02.340
generate the image,

222
00:06:02.340 --> 00:06:07.220
that's kind of cool, and, you know,

223
00:06:07.360 --> 00:06:09.820
in the download place location, wherever

224
00:06:09.820 --> 00:06:10.660
it is, all

225
00:06:10.660 --> 00:06:12.580
the images that you generate, this

226
00:06:12.580 --> 00:06:14.220
is all local, this is on my

227
00:06:14.220 --> 00:06:16.540
gaming box right now, now I'm

228
00:06:16.540 --> 00:06:17.860
not an expert on this (yet), if you're

229
00:06:17.860 --> 00:06:18.980
coming across me, and you're like,

230
00:06:19.060 --> 00:06:20.340
holy crap, AI guy, well

231
00:06:20.340 --> 00:06:21.440
you know, AI was part of my

232
00:06:21.440 --> 00:06:23.820
original career path, as far as my

233
00:06:23.820 --> 00:06:24.640
education is concerned,

234
00:06:24.780 --> 00:06:26.000
and I'd like to continue to pursue

235
00:06:26.000 --> 00:06:27.380
that, I really want to, I have

236
00:06:27.380 --> 00:06:28.300
my associates in computer

237
00:06:28.300 --> 00:06:30.420
science, I want to get my Bachelors

238
00:06:30.420 --> 00:06:32.540
in InfoSec, I want my

239
00:06:32.540 --> 00:06:33.600
Masters in Cloud Computing,

240
00:06:33.740 --> 00:06:34.880
and I want my PhD in AI,

241
00:06:35.300 --> 00:06:40.220
so, I mean, whatever the degrees are,

242
00:06:40.540 --> 00:06:43.440
but anyways, this is me experimenting

243
00:06:43.440 --> 00:06:44.880
with what I can get my hands

244
00:06:44.880 --> 00:06:46.820
on, as far as stuff that's hanging

245
00:06:46.820 --> 00:06:47.960
out there, and I can

246
00:06:47.960 --> 00:06:49.720
understand it, I thought the install

247
00:06:49.720 --> 00:06:52.340
was really easy, and pretty simple,

248
00:06:52.560 --> 00:06:53.680
and I was able to

249
00:06:54.520 --> 00:06:56.160
experiment with it in such a custom

250
00:06:56.160 --> 00:06:59.500
way, that's, I mean, you know, this

251
00:06:59.500 --> 00:07:01.880
is cool, you can just

252
00:07:01.880 --> 00:07:03.860
have fun with it, and I'm learning

253
00:07:03.860 --> 00:07:06.320
a lot about how images are generated,

254
00:07:06.720 --> 00:07:06.920
you know,

255
00:07:06.960 --> 00:07:08.420
how this stuff works under the hood,

256
00:07:08.580 --> 00:07:09.440
I don't want to be one of

257
00:07:09.440 --> 00:07:10.340
those guys that just talks

258
00:07:10.340 --> 00:07:12.160
to the chatbot and thinks it's cute

259
00:07:12.160 --> 00:07:14.920
and all that, no, actually, I'm a

260
00:07:14.920 --> 00:07:15.780
techie guy, I'm

261
00:07:15.780 --> 00:07:17.620
totally about how things work under

262
00:07:17.620 --> 00:07:22.220
the hood, and this is just fascinating

263
00:07:22.220 --> 00:07:22.640
to me.

264
00:07:23.680 --> 00:07:24.420
I don't know, this is what I

265
00:07:24.420 --> 00:07:25.760
do on a Saturday night, how about you? ;P

